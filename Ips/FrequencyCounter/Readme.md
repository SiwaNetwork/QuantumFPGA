# Описание дизайна Frequency Counter
## Содержание

[1. Обзор](#1-context-overview)

[2. Описание интерфейса](#2-interface-description)

[3. Набор регистров](#3-register-set)

[4. Описание дизайна](#4-design-description)

## 1. Обзор
Frequency Counter — полностью аппаратная (FPGA) реализация измерения частоты входного сигнала. Рассчитывает целочисленные частоты в диапазоне [0 Гц – 10'000'000 Гц] и выравнивает измерение по новой секунде локальных часов. Конфигурация — через AXI4‑Lite.

## 2. Описание интерфейса
### 2.1 Frequency Counter IP
Интерфейс:
- Входы системного сброса и системной тактовой
- Вход измеряемого сигнала
- Вход локального времени от [Adjustable Clock](../AdjustableClock/Readme.md)
- Интерфейс AXI4‑Lite для доступа к регистрам

![Frequency Counter IP](Additional%20Files/FrequencyCounterIP.PNG)

Параметр конфигурации:
- Полярность входного сигнала

![Frequency Counter GUI](Additional%20Files/FrequencyCounterConfig.PNG)

## 3. Набор регистров
AXI4‑Lite; 32‑битные регистры; без burst/byte enable/таймаутов/невыравненных доступов; адресное пространство не непрерывно; вне диапазона — ошибка декодирования.

### 3.1 Обзор
![RegisterSet](Additional%20Files/RegsetOverview.png)

### 3.2 Описание регистров
![Control](Additional%20Files/Regset1_Control.png)
![Frequency](Additional%20Files/Regset2_Frequency.png)
![Polatiry](Additional%20Files/Regset3_Polarity.png)
![Version](Additional%20Files/Regset4_Version.png)

## 4. Описание дизайна
Счётчик получает (синхронизированное) время и входной сигнал и измеряет частоту за заданное число секунд. Ядро содержит AXI4‑Lite для конфигурации и мониторинга.

### 4.1 Измерение частоты
После конфигурации (enable и период измерения) на начале следующей секунды начинается подсчёт фронтов входного сигнала в течение заданного периода (1–255 сек; 0 — неверная конфигурация). По завершении делит счёт на период и записывает целочисленный результат в регистр. Затем стартует новое измерение. Если результат превышает 10 МГц — устанавливается флаг ошибки.

### 4.2 AXI‑slave
AXI4‑Lite предоставляет доступ к конфигурации и регистру частоты для мониторинга. Подробности — в [разделе 3](#3-register-set).
